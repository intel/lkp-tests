pkgname=libhugetlbfs-test
pkgver=git
pkgrel=1
pkgdesc='interacts with the Linux hugetlbfs to make large pages available to applications in a transparent manner.'
url='https://github.com/libhugetlbfs/libhugetlbfs'
arch=('i386' 'x86_64' 'aarch64')
license=('GPL')
source=("$pkgname"::"https://github.com/libhugetlbfs/libhugetlbfs.git"
	'0001-tests-hugetests.h-fix-compile-errors-under-centos.patch')
md5sums=('SKIP' 'SKIP')

. $LKP_SRC/lib/install.sh
. $LKP_SRC/lib/tests/pkgbuild.sh

prepare()
{
	prepare_benchmark_path
}

patch_source()
{
	cd_src_pkg_dir

	if [ "$DISTRO" = "centos" ]; then
		patch -p1 < $srcdir/0001-tests-hugetests.h-fix-compile-errors-under-centos.patch
	fi
}

package()
{
	pack_src_pkg_contents
}
