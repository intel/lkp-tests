# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>
# Contributor: Christoph Zeiler <archNOSPAM_at_moonblade.dot.org>

pkgname=lzlib
pkgver=1.15
pkgrel=1
pkgdesc="A library providing in-memory LZMA compression and decompression functions"
arch=('i386' 'x86_64' 'aarch64')
url="http://www.nongnu.org/lzip/lzlib.html"
license=('GPL3')
depends=()
options=('!emptydirs')
source=(http://download.savannah.gnu.org/releases/lzip/$pkgname/$pkgname-$pkgver.tar.gz) # http://download.savannah.gnu.org/releases/lzip/lzlib/lzlib-1.14.tar.gz
sha256sums=('SKIP')

. $LKP_SRC/lib/tests/pkgbuild.sh

prepare()
{
	prepare_benchmark_path
	rename_versioned_src_pkg_dir
}

build()
{
  cd_src_pkg_dir

  ./configure --prefix=/usr --enable-shared
  make
}

package()
{
  cd_src_pkg_dir

  make install DESTDIR="${pkgdir}"

  install -Dm755 minilzip "${pkgdir}"/usr/bin/minilzip
}
