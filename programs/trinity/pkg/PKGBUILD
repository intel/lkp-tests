pkgname=trinity
pkgver=git
pkgrel=1
arch=('i386' 'x86_64' 'aarch64' 'riscv64')
url="https://github.com/kernelslacker/trinity"
license=('GPL')
source=("https://github.com/kernelslacker/trinity.git")
md5sums=('SKIP')

. $LKP_SRC/lib/tests/pkgbuild.sh

prepare()
{
	prepare_benchmark_path
}

build()
{
	gcc_major=$($(which gcc) -dumpversion | cut -d. -f1)

	cd_src_pkg_dir

	./configure
	make
}

package()
{
	cd_src_pkg_dir
	make install

	bin_path="${pkgdir}/bin"
	mkdir -p $bin_path

	cp /bin/trinity $bin_path
	INSTALL_PREFIX=$benchmark_path make install
}
